<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSC Exam Practice - Kerala Public Service Commission</title>
    
    <!-- Google Fonts for Malayalam support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Malayalam:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js and html2canvas from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Noto Sans Malayalam', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Login Section */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            width: 100%;
        }

        .login-card h1 {
            color: #2d3748;
            margin-bottom: 0.5rem;
            font-size: 2rem;
            font-weight: 700;
        }

        .login-card p {
            color: #718096;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #4a5568;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .error-message {
            color: #e53e3e;
            margin-top: 1rem;
            padding: 0.5rem;
            background: #fed7d7;
            border-radius: 4px;
            display: none;
        }

        /* Exam Section */
        .exam-header {
            background: white;
            padding: 1.5rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .exam-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
        }

        .exam-info {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .info-item {
            text-align: center;
        }

        .info-item .number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .info-item .label {
            font-size: 0.875rem;
            color: #718096;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .question-header {
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f7fafc;
        }

        .question-number {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .question-category {
            display: inline-block;
            background: #edf2f7;
            color: #4a5568;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .question-text {
            font-size: 1.125rem;
            line-height: 1.6;
            color: #2d3748;
            margin: 1rem 0;
            font-weight: 500;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option:hover {
            border-color: #cbd5e0;
            background: #f7fafc;
        }

        .option.selected {
            border-color: #667eea;
            background: #edf2f7;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .option input[type="radio"] {
            margin-right: 1rem;
            width: 20px;
            height: 20px;
        }

        .option-text {
            flex: 1;
            font-size: 1rem;
            line-height: 1.5;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn-secondary {
            background: #718096;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .btn-secondary:hover {
            background: #4a5568;
        }

        .btn-secondary:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .finish-btn {
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .finish-btn:hover {
            transform: translateY(-2px);
        }

        /* Results Section */
        .results-container {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 800px;
            margin: 2rem auto;
        }

        .results-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1rem;
        }

        .final-score {
            font-size: 3rem;
            font-weight: 700;
            color: #667eea;
            margin: 1rem 0;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .result-item {
            text-align: center;
            padding: 1.5rem;
            background: #f7fafc;
            border-radius: 12px;
        }

        .result-item .number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .result-item .label {
            color: #718096;
            font-weight: 500;
        }

        .result-item.correct .number { color: #38a169; }
        .result-item.wrong .number { color: #e53e3e; }
        .result-item.unanswered .number { color: #718096; }

        .chart-container {
            max-width: 400px;
            margin: 2rem auto;
            position: relative;
        }

        .download-btn {
            background: linear-gradient(135deg, #3182ce 0%, #2c5aa0 100%);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 2rem;
            transition: transform 0.2s ease;
        }

        .download-btn:hover {
            transform: translateY(-2px);
        }

        .restart-btn {
            background: #718096;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
            margin-left: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .login-card {
                padding: 2rem;
            }

            .exam-header {
                flex-direction: column;
                text-align: center;
            }

            .exam-info {
                justify-content: center;
            }

            .question-card {
                padding: 1.5rem;
            }

            .navigation {
                flex-direction: column;
            }

            .results-container {
                padding: 2rem;
                margin: 1rem;
            }

            .results-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Login Section -->
    <div id="loginSection" class="section active">
        <div class="login-container">
            <div class="login-card">
                <h1>PSC Exam Practice</h1>
                <p>കേരള പബ്ലിക് സർവീസ് കമ്മീഷൻ പരീക്ഷാ പരിശീലനം</p>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="accessCode">Access Code</label>
                        <input type="text" id="accessCode" placeholder="Enter your unique access code" required>
                    </div>
                    <button type="submit" class="btn">Start Exam</button>
                </form>
                <div id="errorMessage" class="error-message">
                    Invalid access code. Please try again.
                </div>
            </div>
        </div>
    </div>

    <!-- Exam Section -->
    <div id="examSection" class="section">
        <div class="container">
            <div class="exam-header">
                <div class="exam-title">PSC Practice Exam</div>
                <div class="exam-info">
                    <div class="info-item">
                        <div class="number" id="currentQuestion">1</div>
                        <div class="label">Question</div>
                    </div>
                    <div class="info-item">
                        <div class="number">100</div>
                        <div class="label">Total</div>
                    </div>
                    <div class="info-item">
                        <div class="number" id="answeredCount">0</div>
                        <div class="label">Answered</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-header">
                    <div class="question-number" id="questionNumber">Question 1 of 100</div>
                    <div class="question-category" id="questionCategory">General Knowledge</div>
                </div>
                <div class="question-text" id="questionText">Loading question...</div>
                <div class="options-container" id="optionsContainer">
                    <!-- Options will be populated by JavaScript -->
                </div>
            </div>

            <div class="navigation">
                <button class="btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Previous</button>
                <div>
                    <button class="btn-secondary" id="nextBtn" onclick="nextQuestion()">Next</button>
                    <button class="finish-btn" id="finishBtn" onclick="finishExam()" style="display: none;">Finish Exam</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Section -->
    <div id="resultsSection" class="section">
        <div class="container">
            <div class="results-container">
                <h1 class="results-title">Exam Results</h1>
                <div class="final-score" id="finalScore">0</div>
                
                <div class="results-grid">
                    <div class="result-item correct">
                        <div class="number" id="correctCount">0</div>
                        <div class="label">Correct</div>
                    </div>
                    <div class="result-item wrong">
                        <div class="number" id="wrongCount">0</div>
                        <div class="label">Wrong</div>
                    </div>
                    <div class="result-item unanswered">
                        <div class="number" id="unansweredCount">0</div>
                        <div class="label">Unanswered</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="resultsChart"></canvas>
                </div>

                <button class="download-btn" onclick="downloadChart()">Download Chart</button>
                <button class="restart-btn" onclick="restartExam()">Restart Exam</button>
            </div>
        </div>
    </div>

    <script>
        // Questions Data
        const questions = [
            // General Knowledge (20 questions)
            {
                id: 1,
                question: "ഇന്ത്യയുടെ ദേശീയ പുഷ്പം ഏതാണ്?",
                options: ["താമര", "റോസ്", "ജാസ്മിൻ", "ചമ്പ"],
                correctAnswer: 0,
                category: "General Knowledge"
            },
            {
                id: 2,
                question: "കേരളത്തിന്റെ സംസ്ഥാന മൃഗം ഏതാണ്?",
                options: ["പുലി", "ആന", "സിംഹം", "കാണ്ടാമൃഗം"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 3,
                question: "ഐക്യരാഷ്ട്രസഭയുടെ ആസ്ഥാനം എവിടെയാണ്?",
                options: ["ന്യൂയോർക്ക്", "ജനീവ", "പാരിസ്", "ലണ്ടൻ"],
                correctAnswer: 0,
                category: "General Knowledge"
            },
            {
                id: 4,
                question: "ലോകത്തിലെ ഏറ്റവും ഉയരമുള്ള പർവ്വതം ഏതാണ്?",
                options: ["കെ2", "എവറസ്റ്റ്", "കാഞ്ചൻജംഗ", "മകാലു"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 5,
                question: "ഇന്ത്യയുടെ ദേശീയ ഗാനം ആരു രചിച്ചത്?",
                options: ["ബങ്കിംചന്ദ്ര ചാറ്റർജി", "രവീന്ദ്രനാഥ് ടാഗോർ", "സരോജിനി നായിഡു", "അശ്വിനി കുമാർ ദത്ത്"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 6,
                question: "കേരളത്തിന്റെ ഏറ്റവും ഉയരമുള്ള കൊടുമുടി ഏതാണ്?",
                options: ["അനൈമുടി", "മീശാപുലിമല", "ചെമ്മുണ്ടി", "പൊന്മുടി"],
                correctAnswer: 0,
                category: "General Knowledge"
            },
            {
                id: 7,
                question: "ഇന്ത്യയുടെ ദേശീയ കളി ഏതാണ്?",
                options: ["ക്രിക്കറ്റ്", "ഹോക്കി", "ഫുട്ബോൾ", "കബഡി"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 8,
                question: "കേരളത്തിലെ ഏറ്റവും വലിയ ജില്ല ഏതാണ്?",
                options: ["കൊല്ലം", "ഇടുക്കി", "പാലക്കാട്", "കോട്ടയം"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 9,
                question: "ഇന്ത്യയുടെ ദേശീയ വൃക്ഷം ഏതാണ്?",
                options: ["ബാൻയാൻ", "നീം", "പീപ്പൽ", "മാവ്"],
                correctAnswer: 0,
                category: "General Knowledge"
            },
            {
                id: 10,
                question: "കേരളത്തിന്റെ സംസ്ഥാന പക്ഷി ഏതാണ്?",
                options: ["മയിൽ", "കൊക്ക്", "പൂമ്പാറ്റ", "എബ്ബിസ്"],
                correctAnswer: 2,
                category: "General Knowledge"
            },
            {
                id: 11,
                question: "ലോകത്തിലെ ഏറ്റവും വലിയ സമുദ്രം ഏതാണ്?",
                options: ["അറ്റ്ലാന്റിക്", "പസഫിക്", "ഇന്ത്യൻ", "ആർട്ടിക്"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 12,
                question: "ഇന്ത്യയുടെ പ്രഥമ പ്രധാനമന്ത്രി ആരായിരുന്നു?",
                options: ["മഹാത്മാ ഗാന്ധി", "ജവഹർലാൽ നെഹ്‌റു", "സർദാർ പടേൽ", "ഡോ. രാജേന്ദ്ര പ്രസാദ്"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 13,
                question: "കേരളത്തിലെ ബാക്ക്‌വാട്ടറുകളുടെ രാജ്ഞി എന്നറിയപ്പെടുന്ന സ്ഥലം?",
                options: ["കുമരകം", "അലപ്പുഴ", "കൊല്ലം", "എറണാകുളം"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 14,
                question: "ഇന്ത്യയുടെ സിലിക്കൺ വാലി എന്നറിയപ്പെടുന്ന നഗരം?",
                options: ["ഹൈദരാബാദ്", "ചെന്നൈ", "ബാംഗ്ലൂർ", "പൂനെ"],
                correctAnswer: 2,
                category: "General Knowledge"
            },
            {
                id: 15,
                question: "കേരളത്തിലെ സ്പൈസ് ഗാർഡൻ എന്നറിയപ്പെടുന്ന സ്ഥലം?",
                options: ["വയനാട്", "ഇടുക്കി", "തിരുവനന്തപുരം", "കോഴിക്കോട്"],
                correctAnswer: 1,
                category: "General Knowledge"
            },
            {
                id: 16,
                question: "ഇന്ത്യയുടെ മിസൈൽ മാൻ എന്നറിയപ്പെടുന്നത് ആരെ?",
                options: ["ഹോമി ഭാഭ", "വിക്രം സാരാഭായി", "എ.പി.ജെ. അബ്ദുൽ കലാം", "സി.വി. രാമൻ"],
                correctAnswer: 2,
                category: "General Knowledge"
            },
            {
                id: 17,
                question: "കേരളത്തിലെ ഏറ്റവും പഴക്കമുള്ള യൂറോപ്യൻ പള്ളി ഏതാണ്?",
                options: ["സെന്റ് ഫ്രാൻസിസ് ചർച്ച്", "പരമ്പു ചർച്ച്", "വൈപ്പിൻ ചർച്ച്", "ആർത്തുങ്കൽ ചർച്ച്"],
                correctAnswer: 0,
                category: "General Knowledge"
            },
            {
                id: 18,
                question: "ഇന്ത്യയിലെ ഏറ്റവും വലിയ സംസ്ഥാനം ഏതാണ്?",
                options: ["മധ്യപ്രദേശ്", "മഹാരാഷ്ട്ര", "രാജസ്ഥാൻ", "ഉത്തർപ്രദേശ്"],
                correctAnswer: 2,
                category: "General Knowledge"
            },
            {
                id: 19,
                question: "കേരളത്തിലെ ഏറ്റവും വലിയ ഡാം ഏതാണ്?",
                options: ["ഇടുക്കി ഡാം", "മുല്ലപ്പെരിയാർ ഡാം", "ബാൻസുര സാഗർ ഡാം", "തുംബ പോൾ ഡാം"],
                correctAnswer: 0,
                category: "General Knowledge"
            },
            {
                id: 20,
                question: "ഇന്ത്യയുടെ പ്രഥമ രാഷ്ട്രപതി ആരായിരുന്നു?",
                options: ["സർവപ്പള്ളി രാധാകൃഷ്ണൻ", "ഡോ. രാജേന്ദ്ര പ്രസാദ്", "ഡോ. എ.പി.ജെ. അബ്ദുൽ കലാം", "ജാകിർ ഹുസൈൻ"],
                correctAnswer: 1,
                category: "General Knowledge"
            },

            // Constitution & Politics (15 questions)
            {
                id: 21,
                question: "ഇന്ത്യൻ ഭരണഘടന എത്ര വർഷം കൊണ്ട് തയ്യാറാക്കി?",
                options: ["2 വർഷം 11 മാസം 18 ദിവസം", "3 വർഷം", "2 വർഷം", "4 വർഷം"],
                correctAnswer: 0,
                category: "Constitution & Politics"
            },
            {
                id: 22,
                question: "ഇന്ത്യൻ ഭരണഘടനയിൽ എത്ര അടിസ്ഥാന അവകാശങ്ങൾ ഉണ്ട്?",
                options: ["5", "6", "7", "8"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },
            {
                id: 23,
                question: "രാഷ്ട്രപതിയുടെ കാലാവധി എത്ര വർഷമാണ്?",
                options: ["4 വർഷം", "5 വർഷം", "6 വർഷം", "7 വർഷം"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },
            {
                id: 24,
                question: "സുപ്രീം കോടതിയിൽ പരമാവധി എത്ര ജഡ്ജിമാർ ഉണ്ടാകാം?",
                options: ["30", "31", "32", "34"],
                correctAnswer: 3,
                category: "Constitution & Politics"
            },
            {
                id: 25,
                question: "പഞ്ചായത്തി രാജ് വ്യവസ്ഥ ഏത് അനുച്ഛേദത്തിൽ പറയുന്നു?",
                options: ["ആർട്ടിക്കിൾ 243", "ആർട്ടിക്കിൾ 244", "ആർട്ടിക്കിൾ 245", "ആർട്ടിക്കിൾ 246"],
                correctAnswer: 0,
                category: "Constitution & Politics"
            },
            {
                id: 26,
                question: "ഇന്ത്യൻ ഭരണഘടന നിലവിൽ വന്ന തീയതി?",
                options: ["15 ഓഗസ്റ്റ് 1947", "26 ജനുവരി 1950", "26 നവംബർ 1949", "2 ഒക്ടോബർ 1948"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },
            {
                id: 27,
                question: "ഇന്ത്യൻ ഭരണഘടനയുടെ പിതാവ് എന്നറിയപ്പെടുന്നത് ആരെ?",
                options: ["മഹാത്മാ ഗാന്ധി", "ജവഹർലാൽ നെഹ്‌റു", "ഡോ. ബി.ആർ. അമ്പേദ്കർ", "സർദാർ വല്ലഭഭായി പടേൽ"],
                correctAnswer: 2,
                category: "Constitution & Politics"
            },
            {
                id: 28,
                question: "ലോക്‌സഭയിലെ അംഗങ്ങളുടെ കാലാവധി എത്ര വർഷമാണ്?",
                options: ["4 വർഷം", "5 വർഷം", "6 വർഷം", "3 വർഷം"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },
            {
                id: 29,
                question: "രാജ്യസഭയിലെ പരമാവധി അംഗസംഖ്യ എത്രയാണ്?",
                options: ["250", "245", "240", "252"],
                correctAnswer: 0,
                category: "Constitution & Politics"
            },
            {
                id: 30,
                question: "ഇന്ത്യയിൽ ഏകീകൃത ജുഡീഷ്യറി സമ്പ്രദായം ഏത് രാജ്യത്തിൽ നിന്ന് സ്വീകരിച്ചു?",
                options: ["അമേരിക്ക", "ഇംഗ്ലണ്ട്", "കാനഡ", "ഓസ്ട്രേലിയ"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },
            {
                id: 31,
                question: "മൗലിക കർത്തവ്യങ്ങൾ ഏത് ഭേദഗതിയിലൂടെ ചേർത്തു?",
                options: ["42-ാം ഭേദഗതി", "44-ാം ഭേദഗതി", "43-ാം ഭേദഗതി", "41-ാം ഭേദഗതി"],
                correctAnswer: 0,
                category: "Constitution & Politics"
            },
            {
                id: 32,
                question: "ഇന്ത്യയിൽ ഏറ്റവും കൂടുതൽ ലോക്‌സഭാ മണ്ഡലങ്ങളുള്ള സംസ്ഥാനം?",
                options: ["മഹാരാഷ്ട്ര", "ഉത്തർപ്രദേശ്", "ബിഹാർ", "മധ്യപ്രദേശ്"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },
            {
                id: 33,
                question: "കേരളത്തിൽ എത്ര ലോക്‌സഭാ മണ്ഡലങ്ങൾ ഉണ്ട്?",
                options: ["18", "19", "20", "21"],
                correctAnswer: 2,
                category: "Constitution & Politics"
            },
            {
                id: 34,
                question: "ഇന്ത്യയിലെ ഏറ്റവും ചെറിയ കേന്ദ്രഭരണ പ്രദേശം ഏതാണ്?",
                options: ["ലക്ഷദ്വീപ്", "ദാദ്രയും നഗർ ഹവേലിയും", "ദമൻ & ദിയു", "പുതുച്ചേരി"],
                correctAnswer: 0,
                category: "Constitution & Politics"
            },
            {
                id: 35,
                question: "ഇന്ത്യയിലെ ഏറ്റവും വലിയ കേന്ദ്രഭരണ പ്രദേശം ഏതാണ്?",
                options: ["ദില്ലി", "ലഡാക്ക്", "ജമ്മു കാശ്മീർ", "അന്ദമാൻ നിക്കോബാർ"],
                correctAnswer: 1,
                category: "Constitution & Politics"
            },

            // Current Affairs 2024-2025 (15 questions)
            {
                id: 36,
                question: "2024-ൽ ഇന്ത്യയുടെ പ്രധാനമന്ത്രി ആരാണ്?",
                options: ["രാഹുൽ ഗാന്ധി", "നരേന്ദ്ര മോദി", "അമിത് ഷാ", "രാജ്നാഥ് സിങ്"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 37,
                question: "G20 ഉച്ചകോടി 2023 എവിടെ നടന്നു?",
                options: ["മുംബൈ", "ന്യൂഡൽഹി", "ബാംഗ്ലൂർ", "ചെന്നൈ"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 38,
                question: "2024-ൽ കേരളത്തിന്റെ മുഖ്യമന്ത്രി ആരാണ്?",
                options: ["ഉമ്മൻ ചാണ്ടി", "പിണറായി വിജയൻ", "വി.എസ്. അച്യുതാനന്ദൻ", "രമേശ് ചെന്നിത്തല"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 39,
                question: "ചന്ദ്രയാൻ-3 ദൗത്യം വിജയകരമായി പൂർത്തീകരിച്ച വർഷം?",
                options: ["2022", "2023", "2024", "2025"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 40,
                question: "2024-ൽ ഇന്ത്യയുടെ പ്രതിരോധ മന്ത്രി ആരാണ്?",
                options: ["രാജ്നാഥ് സിങ്", "നിർമല സീതാരാമൻ", "അമിത് ഷാ", "എസ്. ജയശങ്കർ"],
                correctAnswer: 0,
                category: "Current Affairs"
            },
            {
                id: 41,
                question: "2024-ൽ ഇന്ത്യയുടെ വിദേശകാര്യ മന്ত്രി ആരാണ്?",
                options: ["സുഷ്മ സ്വരാജ്", "എസ്. ജയശങ്കർ", "പ്രണബ് മുഖർജി", "പി. ചിദംബരം"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 42,
                question: "2024-ൽ ഇന്ത്യയുടെ രാഷ്ട്രപതി ആരാണ്?",
                options: ["ദ്രൗപദി മുർമു", "രാം നാഥ് കോവിന്ദ്", "പ്രണബ് മുഖർജി", "പ്രതിഭാ പാട്ടീൽ"],
                correctAnswer: 0,
                category: "Current Affairs"
            },
            {
                id: 43,
                question: "ഇന്ത്യയുടെ പ്രഥമ സൂര്യ ദൗത്യമായ ആദിത്യ L1 വിക്ഷേപിച്ച വർഷം?",
                options: ["2022", "2023", "2024", "2021"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 44,
                question: "2024-ൽ ഇന്ത്യയുടെ പ്രധാന ജസ്റ്റിസ് ആരാണ്?",
                options: ["എൻ.വി. രമണ", "ഡി.വൈ. ചന്ദ്രചൂഡ്", "സഞ്ജീവ് ഖന്ന", "യു.യു. ലളിത"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 45,
                question: "കേരളത്തിലെ ഏറ്റവും പുതിയ ജില്ല ഏതാണ്?",
                options: ["കാസർകോട്", "പത്തനംതിട്ട", "ഇടുക്കി", "വയനാട്"],
                correctAnswer: 0,
                category: "Current Affairs"
            },
            {
                id: 46,
                question: "2024-ലെ പാരീസ് ഒളിമ്പിക്‌സിൽ ഇന്ത്യ നേടിയ മെഡലുകളുടെ എണ്ണം?",
                options: ["5", "6", "7", "8"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 47,
                question: "കേരള ബ്ലാസ്റ്റേഴ്‌സ് ഏത് കളിയുമായി ബന്ധപ്പെട്ടിരിക്കുന്നു?",
                options: ["ക്രിക്കറ്റ്", "ഫുട്ബോൾ", "ബാഡ്മിന്റൺ", "ഹോക്കി"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 48,
                question: "ഇന്ത്യയുടെ ഏറ്റവും പുതിയ സംസ്ഥാനം ഏതാണ്?",
                options: ["തെലങ്കാന", "ഛത്തീസ്ഗഢ്", "ഉത്തരാഖണ്ഡ്", "ഝാർഖണ്ഡ്"],
                correctAnswer: 0,
                category: "Current Affairs"
            },
            {
                id: 49,
                question: "2024-ൽ കേരളത്തിന്റെ ഗവർണർ ആരാണ്?",
                options: ["ആരിഫ് മുഹമ്മദ് ഖാൻ", "രാജേന്ദ്ര വിശ്വനാഥ് അർലേക്കർ", "ബന്വാരിലാൽ പുരോഹിത്", "തവർചന്ദ് ഗെഹ്‌ലോത്"],
                correctAnswer: 1,
                category: "Current Affairs"
            },
            {
                id: 50,
                question: "ഇന്ത്യയുടെ ഏറ്റവും വലിയ ബാങ്ക് ഏതാണ്?",
                options: ["എസ്‌ബിഐ", "പിഎൻബി", "ബാങ്ക് ഓഫ് ബറോഡ", "ഐസിഐസിഐ"],
                correctAnswer: 0,
                category: "Current Affairs"
            },

            // Science & Technology (15 questions)
            {
                id: 51,
                question: "ആറ്റത്തിന്റെ കേന്ദ്രഭാഗത്തെ എന്താണ് വിളിക്കുന്നത്?",
                options: ["ഇലക്ട്രോൺ", "പ്രോട്ടോൺ", "ന്യൂട്രോൺ", "ന്യൂക്ലിയസ്"],
                correctAnswer: 3,
                category: "Science & Technology"
            },
            {
                id: 52,
                question: "പ്രകാശത്തിന്റെ വേഗത എത്രയാണ്?",
                options: ["3 × 10⁸ m/s", "3 × 10⁷ m/s", "3 × 10⁹ m/s", "3 × 10⁶ m/s"],
                correctAnswer: 0,
                category: "Science & Technology"
            },
            {
                id: 53,
                question: "മനുഷ്യശരീരത്തിലെ ഏറ്റവും വലിയ അവയവം ഏതാണ്?",
                options: ["കരൾ", "ശ്വാസകോശം", "തൊലി", "കിഡ്നി"],
                correctAnswer: 2,
                category: "Science & Technology"
            },
            {
                id: 54,
                question: "DNA-യുടെ പൂർണ്ണരൂപം എന്താണ്?",
                options: ["Deoxyribonucleic Acid", "Dynamic Nuclear Acid", "Direct Nuclear Acid", "Deoxy Nuclear Acid"],
                correctAnswer: 0,
                category: "Science & Technology"
            },
            {
                id: 55,
                question: "ഏറ്റവും ചെറിയ ഗ്രഹം ഏതാണ്?",
                options: ["ചൊവ്വ", "ബുധൻ", "ശുക്രൻ", "നെപ്ട്യൂൺ"],
                correctAnswer: 1,
                category: "Science & Technology"
            },
            {
                id: 56,
                question: "ഇന്ത്യയുടെ ഉപഗ്രഹ വിക്ഷേപണ കേന്ദ്രം എവിടെയാണ്?",
                options: ["ശ്രീഹരിക്കോട്ട", "തിരുവനന്തപുരം", "ബാംഗ്ലൂർ", "ചെന്നൈ"],
                correctAnswer: 0,
                category: "Science & Technology"
            },
            {
                id: 57,
                question: "ഏറ്റവും കഠിനമായ പ്രകൃതിദത്ത പദാർത്ഥം ഏതാണ്?",
                options: ["ഗ്രാഫൈറ്റ്", "വജ്രം", "ഇരുമ്പ്", "സ്വർണ്ണം"],
                correctAnswer: 1,
                category: "Science & Technology"
            },
            {
                id: 58,
                question: "ഓസോൺ പാളിയിലെ ഓസോൺ മൂലകത്തിന്റെ അണുസംഖ്യ എത്രയാണ്?",
                options: ["O₂", "O₃", "O₄", "O"],
                correctAnswer: 1,
                category: "Science & Technology"
            },
            {
                id: 59,
                question: "മനുഷ്യനിൽ എത്ര ജോഡി ക്രോമസോമുകൾ ഉണ്ട്?",
                options: ["22", "23", "24", "25"],
                correctAnswer: 1,
                category: "Science & Technology"
            },
            {
                id: 60,
                question: "ഏറ്റവും വലിയ ഗ്രഹം ഏതാണ്?",
                options: ["ശനി", "വ്യാഴം", "യുറാനസ്", "നെപ്ട്യൂൺ"],
                correctAnswer: 1,
                category: "Science & Technology"
            },
            {
                id: 61,
                question: "ഇന്ത്യയുടെ ആദ്യ ആണവ പരീക്ഷണം നടത്തിയ സ്ഥലം?",
                options: ["പോഖ്‌റാൻ", "കല്പക്കം", "ട്രോംബേ", "ഭാഭ"],
                correctAnswer: 0,
                category: "Science & Technology"
            },
            {
                id: 62,
                question: "കമ്പ്യൂട്ടറിന്റെ പിതാവ് എന്നറിയപ്പെടുന്നത് ആരെ?",
                options: ["ചാൾസ് ബാബേജ്", "അലൻ ട്യൂറിങ്", "ബിൽ ഗേറ്റ്‌സ്", "സ്റ്റീവ് ജോബ്‌സ്"],
                correctAnswer: 0,
                category: "Science & Technology"
            },
            {
                id: 63,
                question: "വൈദ്യുതിയുടെ യൂണിറ്റ് എന്താണ്?",
                options: ["വാട്ട്", "ആംപിയർ", "വോൾട്ട്", "ജൂൾ"],
                correctAnswer: 1,
                category: "Science & Technology"
            },
            {
                id: 64,
                question: "ഇന്റർനെറ്റിന്റെ പിതാവ് എന്നറിയപ്പെടുന്നത് ആരെ?",
                options: ["ടിം ബെർണേഴ്‌സ് ലീ", "വിന്റ് സെർഫ്", "ബിൽ ഗേറ്റ്‌സ്", "മാർക്ക് സക്കർബർഗ്"],
                correctAnswer: 0,
                category: "Science & Technology"
            },
            {
                id: 65,
                question: "ഇന്ത്യയുടെ ആദ്യ ഉപഗ്രഹത്തിന്റെ പേര് എന്താണ്?",
                options: ["ആര്യഭട്ട", "രോഹിണി", "ഇൻസാറ്റ്", "ഭാസ്കര"],
                correctAnswer: 0,
                category: "Science & Technology"
            },

            // Kerala Renaissance (10 questions)
            {
                id: 66,
                question: "കേരള നവോത്ഥാനത്തിന്റെ പിതാവ് എന്നറിയപ്പെടുന്നത് ആരെ?",
                options: ["ശ്രീനാരായണ ഗുരു", "അയ്യങ്കാളി", "ചട്ടമ്പി സ്വാമികൾ", "കുമാരൻ ആശാൻ"],
                correctAnswer: 0,
                category: "Kerala Renaissance"
            },
            {
                id: 67,
                question: "വൈക്കം സത്യാഗ്രഹം നടന്ന വർഷം?",
                options: ["1924-25", "1925-26", "1923-24", "1926-27"],
                correctAnswer: 0,
                category: "Kerala Renaissance"
            },
            {
                id: 68,
                question: "ശ്രീനാരായണ ഗുരു സ്ഥാപിച്ച സംഘടന ഏതാണ്?",
                options: ["എസ്.എൻ.ഡി.പി യോഗം", "നായർ സർവീസ് സൊസൈറ്റി", "യോഗക്ഷേമ സഭ", "സത്യശോധക സമാജം"],
                correctAnswer: 0,
                category: "Kerala Renaissance"
            },
            {
                id: 69,
                question: "അയ്യങ്കാളി ജനിച്ച സ്ഥലം ഏതാണ്?",
                options: ["വെങ്ങനൂർ", "പണ്ണിയൂർ", "ചേമ്പഴന്തി", "വാഴുത്തക്കാട്"],
                correctAnswer: 0,
                category: "Kerala Renaissance"
            },
            {
                id: 70,
                question: "ചാണ്ടാല വൃത്തി എന്ന കൃതി ആരുടേതാണ്?",
                options: ["സഹോദരൻ അയ്യപ്പൻ", "പണ്ഡിറ്റ് കരുപ്പൻ", "കുമാരൻ ആശാൻ", "ഉള്ളൂർ പരമേശ്വര അയ്യർ"],
                correctAnswer: 1,
                category: "Kerala Renaissance"
            },
            {
                id: 71,
                question: "മലയാള ഭാഷയിലെ ആദ്യത്തെ നോവൽ ഏതാണ്?",
                options: ["കുന്ദലത", "സരസ്വതി വിജയം", "ഇന്ദുലേഖ", "ശുകസന്ദേശം"],
                correctAnswer: 2,
                category: "Kerala Renaissance"
            },
            {
                id: 72,
                question: "കേരളത്തിലെ ആദ്യത്തെ മലയാളി സർവേയർ ജനറൽ ആരായിരുന്നു?",
                options: ["രാമൻ പിള്ള", "ശങ്കു നായർ", "കെ.എം. പണിക്കർ", "സാരദ രാമൻ"],
                correctAnswer: 0,
                category: "Kerala Renaissance"
            },
            {
                id: 73,
                question: "തെമ്പൽ എൻട്രി പ്രൊക്ലമേഷൻ പുറപ്പെടുവിച്ച വർഷം?",
                options: ["1936", "1935", "1937", "1938"],
                correctAnswer: 0,
                category: "Kerala Renaissance"
            },
            {
                id: 74,
                question: "കേരളത്തിലെ ആദ്യത്തെ പത്രം ഏതാണ്?",
                options: ["രാജ്യസമാചാരം", "പശ്ചിമോദയം", "കേരളപത്രിക", "മലയാളമനോരമ"],
                correctAnswer: 1,
                category: "Kerala Renaissance"
            },
            {
                id: 75,
                question: "ആര്യസമാജ് കേരളത്തിൽ സ്ഥാപിച്ചത് ആരാണ്?",
                options: ["ദയാനന്ദ സരസ്വതി", "കെശവപിള്ള", "പണ്ഡിറ്റ് ഗുരുദത്ത്", "ലാല ഹർദയാൽ"],
                correctAnswer: 2,
                category: "Kerala Renaissance"
            },

            // Geography (10 questions)
            {
                id: 76,
                question: "കേരളത്തിലെ ഏറ്റവും വലിയ നദി ഏതാണ്?",
                options: ["പെരിയാർ", "ഭരതപ്പുഴ", "പമ്പ", "ചലാക്കുടി"],
                correctAnswer: 0,
                category: "Geography"
            },
            {
                id: 77,
                question: "ലോകത്തിലെ ഏറ്റവും വലിയ ദ്വീപ് ഏതാണ്?",
                options: ["ഗ്രീൻലാൻഡ്", "ന്യൂ ഗിനിയ", "ബോർണിയോ", "മഡഗാസ്കർ"],
                correctAnswer: 0,
                category: "Geography"
            },
            {
                id: 78,
                question: "കേരളത്തിൽ എത്ര ജില്ലകൾ ഉണ്ട്?",
                options: ["13", "14", "15", "16"],
                correctAnswer: 1,
                category: "Geography"
            },
            {
                id: 79,
                question: "ഇന്ത്യയുടെ ഏറ്റവും തെക്കേ അറ്റത്തുള്ള പോയിന്റ് ഏതാണ്?",
                options: ["കന്യാകുമാരി", "ഇന്ദിരാ പോയിന്റ്", "കൊവളം", "രാമേശ്വരം"],
                correctAnswer: 1,
                category: "Geography"
            },
            {
                id: 80,
                question: "ലോകത്തിലെ ഏറ്റവും വലിയ മരുഭൂമി ഏതാണ്?",
                options: ["സഹാറ", "ഗോബി", "കലഹാരി", "അറ്റാകാമ"],
                correctAnswer: 0,
                category: "Geography"
            },
            {
                id: 81,
                question: "കേരളത്തിലെ ഏറ്റവും വലിയ തടാകം ഏതാണ്?",
                options: ["വേമ്പനാട്", "അഷ്ടമുടി", "ശാസ്താംകോട്ട", "പുന്നമട"],
                correctAnswer: 0,
                category: "Geography"
            },
            {
                id: 82,
                question: "ഇന്ത്യയുടെ ഏറ്റവും ഉയരമുള്ള പർവ്വതനിര ഏതാണ്?",
                options: ["പടിഞ്ഞാറൻ ഘട്ടങ്ങൾ", "കിഴക്കൻ ഘട്ടങ്ങൾ", "ഹിമാലയം", "വിന്ധ്യം"],
                correctAnswer: 2,
                category: "Geography"
            },
            {
                id: 83,
                question: "ലോകത്തിലെ ഏറ്റവും വലിയ നദി (വോള്യം അനുസരിച്ച്) ഏതാണ്?",
                options: ["നൈൽ", "അമേസൺ", "മിസിസിപ്പി", "യാങ്സി"],
                correctAnswer: 1,
                category: "Geography"
            },
            {
                id: 84,
                question: "കേരളത്തിലെ ഏറ്റവും വടക്കുള്ള ജില്ല ഏതാണ്?",
                options: ["കാസർഗോഡ്", "കണ്ണൂർ", "വയനാട്", "കോഴിക്കോട്"],
                correctAnswer: 0,
                category: "Geography"
            },
            {
                id: 85,
                question: "ലോകത്തിലെ ഏറ്റവും ആഴമുള്ള സമുദ്ര ബിന്ദു ഏതാണ്?",
                options: ["മരിയാന ട്രെഞ്ച്", "ടോംഗ ട്രെഞ്ച്", "ജാപ്പാൻ ട്രെഞ്ച്", "പെരു ട്രെഞ്ച്"],
                correctAnswer: 0,
                category: "Geography"
            },

            // History (10 questions)
            {
                id: 86,
                question: "ടിപ്പു സുൽത്താൻ എത്ര വർഷം മൈസൂർ ഭരിച്ചു?",
                options: ["15 വർഷം", "17 വർഷം", "19 വർഷം", "21 വർഷം"],
                correctAnswer: 1,
                category: "History"
            },
            {
                id: 87,
                question: "പാണിപ്പാറ്റ് യുദ്ധം നടന്ന വർഷം?",
                options: ["1526", "1556", "1761", "1576"],
                correctAnswer: 0,
                category: "History"
            },
            {
                id: 88,
                question: "കേരളത്തിലെ ആദ്യത്തെ യൂറോപ്യൻ കോളനി ഏതാണ്?",
                options: ["കൊച്ചി", "കോഴിക്കോട്", "കണ്ണൂർ", "കൊല്ലം"],
                correctAnswer: 1,
                category: "History"
            },
            {
                id: 89,
                question: "ഹൈദരാലി മരിച്ച വർഷം?",
                options: ["1782", "1783", "1784", "1785"],
                correctAnswer: 0,
                category: "History"
            },
            {
                id: 90,
                question: "മൗര്യ സാമ്രാജ്യത്തിന്റെ സ്ഥാപകൻ ആരാണ്?",
                options: ["ബിന്ദുസാരൻ", "ചന്ദ്രഗുപ്ത മൗര്യൻ", "അശോകൻ", "ചാണക്യൻ"],
                correctAnswer: 1,
                category: "History"
            },
            {
                id: 91,
                question: "കോഴിക്കോട്ടെ സാമൂതിരിയുടെ കൊട്ടാരത്തിൽ എത്തിയ ആദ്യ പോർച്ചുഗീസ് കാരൻ ആരാണ്?",
                options: ["വാസ്കോഡ ഗാമ", "പെഡ്രോ അൽവാരസ് കബ്രാൽ", "അൽഫോൻസോ ഡി അൽബുകർക്", "ഫ്രാൻസിസ്കോ ഡി അൽമേഡ"],
                correctAnswer: 0,
                category: "History"
            },
            {
                id: 92,
                question: "സിന്ധുനദീതട സംസ്കാരത്തിന്റെ ഏറ്റവും വലിയ നഗരം ഏതായിരുന്നു?",
                options: ["ഹരപ്പ", "മൊഹൻജോദാറോ", "ധോളാവീര", "കാലിബംഗൻ"],
                correctAnswer: 1,
                category: "History"
            },
            {
                id: 93,
                question: "1857-ലെ സിപ്പായി കലാപത്തിന്റെ തലവൻ ആരായിരുന്നു?",
                options: ["മംഗൾ പാണ്ഡേ", "ബഹദൂർഷാ സഫർ", "നാനാസാഹിബ്", "താത്യാ ടോപ്പെ"],
                correctAnswer: 1,
                category: "History"
            },
            {
                id: 94,
                question: "ചോള സാമ്രാജ്യത്തിന്റെ ഏറ്റവും പ്രസിദ്ധമായ രാജാവ് ആരാണ്?",
                options: ["രാജരാജ ചോളൻ", "രാജേന്ദ്ര ചോളൻ", "കരികാൽ ചോളൻ", "കുലോത്തുംഗ ചോളൻ"],
                correctAnswer: 0,
                category: "History"
            },
            {
                id: 95,
                question: "ഇന്ത്യൻ സ്വാതന്ത്ര്യസമരത്തിൽ ആദ്യത്തെ രക്തസാക്ഷി ആരായിരുന്നു?",
                options: ["മംഗൾ പാണ്ഡേ", "ഖുദിറാം ബോസ്", "ആശ്‌ഫാക്ക് ഉല്ലാഹ് ഖാൻ", "രാംപ്രസാദ് ബിസ്മിൽ"],
                correctAnswer: 0,
                category: "History"
            },

            // Math & English (5 questions)
            {
                id: 96,
                question: "2² + 3² = ?",
                options: ["10", "13", "15", "12"],
                correctAnswer: 1,
                category: "Mathematics"
            },
            {
                id: 97,
                question: "What is the capital of Australia?",
                options: ["Sydney", "Melbourne", "Canberra", "Perth"],
                correctAnswer: 2,
                category: "English"
            },
            {
                id: 98,
                question: "If x + 5 = 12, then x = ?",
                options: ["5", "6", "7", "8"],
                correctAnswer: 2,
                category: "Mathematics"
            },
            {
                id: 99,
                question: "Choose the correct spelling:",
                options: ["Necesary", "Necessary", "Neccessary", "Neccesary"],
                correctAnswer: 1,
                category: "English"
            },
            {
                id: 100,
                question: "The area of a circle with radius 7 cm is:",
                options: ["154 cm²", "49 cm²", "22 cm²", "44 cm²"],
                correctAnswer: 0,
                category: "Mathematics"
            }
        ];

        // Global variables
        let currentQuestionIndex = 0;
        let userAnswers = new Array(100).fill(null);
        let answeredQuestions = new Set();
        let resultChart = null;

        // Login functionality
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const accessCode = document.getElementById('accessCode').value.trim();
            const errorMessage = document.getElementById('errorMessage');
            
            if (accessCode === 'psc100') {
                showSection('examSection');
                startExam();
            } else {
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 3000);
            }
        });

        // Start exam
        function startExam() {
            currentQuestionIndex = 0;
            userAnswers = new Array(100).fill(null);
            answeredQuestions = new Set();
            displayQuestion();
            updateUI();
        }

        // Display current question
        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1} of 100`;
            document.getElementById('questionCategory').textContent = question.category;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                
                const isSelected = userAnswers[currentQuestionIndex] === index;
                const isAnswered = userAnswers[currentQuestionIndex] !== null;
                
                if (isSelected) {
                    optionDiv.classList.add('selected');
                }
                
                if (isAnswered) {
                    optionDiv.classList.add('disabled');
                }
                
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" value="${index}" ${isSelected ? 'checked' : ''} ${isAnswered ? 'disabled' : ''}>
                    <span class="option-text">${option}</span>
                `;
                
                if (!isAnswered) {
                    optionDiv.addEventListener('click', function() {
                        selectAnswer(index);
                    });
                }
                
                optionsContainer.appendChild(optionDiv);
            });
        }

        // Select answer
        function selectAnswer(answerIndex) {
            if (userAnswers[currentQuestionIndex] !== null) {
                return; // Already answered
            }
            
            userAnswers[currentQuestionIndex] = answerIndex;
            answeredQuestions.add(currentQuestionIndex);
            
            // Disable all options
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.add('disabled');
                const radio = option.querySelector('input[type="radio"]');
                radio.disabled = true;
            });
            
            // Mark selected option
            options[answerIndex].classList.add('selected');
            
            updateUI();
        }

        // Navigate to previous question
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                updateUI();
            }
        }

        // Navigate to next question
        function nextQuestion() {
            if (currentQuestionIndex < 99) {
                currentQuestionIndex++;
                displayQuestion();
                updateUI();
            }
        }

        // Update UI elements
        function updateUI() {
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('answeredCount').textContent = answeredQuestions.size;
            
            const progress = ((currentQuestionIndex + 1) / 100) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            
            // Update navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const finishBtn = document.getElementById('finishBtn');
            
            prevBtn.disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === 99) {
                nextBtn.style.display = 'none';
                finishBtn.style.display = 'inline-block';
            } else {
                nextBtn.style.display = 'inline-block';
                finishBtn.style.display = 'none';
            }
        }

        // Finish exam
        function finishExam() {
            calculateResults();
            showSection('resultsSection');
            displayResults();
        }

        // Calculate results
        function calculateResults() {
            let correct = 0;
            let wrong = 0;
            let unanswered = 0;
            
            for (let i = 0; i < 100; i++) {
                if (userAnswers[i] === null) {
                    unanswered++;
                } else if (userAnswers[i] === questions[i].correctAnswer) {
                    correct++;
                } else {
                    wrong++;
                }
            }
            
            // Calculate final score using PSC marking scheme
            // +1 for correct, -1/3 for wrong, 0 for unanswered
            const finalScore = correct - (wrong / 3);
            
            return {
                correct,
                wrong,
                unanswered,
                finalScore: Math.round(finalScore * 100) / 100 // Round to 2 decimal places
            };
        }

        // Display results
        function displayResults() {
            const results = calculateResults();
            
            document.getElementById('finalScore').textContent = results.finalScore;
            document.getElementById('correctCount').textContent = results.correct;
            document.getElementById('wrongCount').textContent = results.wrong;
            document.getElementById('unansweredCount').textContent = results.unanswered;
            
            // Create pie chart
            createResultsChart(results);
        }

        // Create results chart
        function createResultsChart(results) {
            const ctx = document.getElementById('resultsChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (resultChart) {
                resultChart.destroy();
            }
            
            resultChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['Correct', 'Wrong', 'Unanswered'],
                    datasets: [{
                        data: [results.correct, results.wrong, results.unanswered],
                        backgroundColor: [
                            '#38a169',
                            '#e53e3e',
                            '#718096'
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14,
                                    family: 'Inter'
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((context.parsed / total) * 100).toFixed(1);
                                    return `${context.label}: ${context.parsed} (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Download chart as PNG
        function downloadChart() {
            const chartContainer = document.querySelector('.chart-container');
            
            html2canvas(chartContainer, {
                backgroundColor: '#ffffff',
                scale: 2
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'psc-exam-results.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        // Restart exam
        function restartExam() {
            currentQuestionIndex = 0;
            userAnswers = new Array(100).fill(null);
            answeredQuestions = new Set();
            
            // Reset form
            document.getElementById('accessCode').value = '';
            document.getElementById('errorMessage').style.display = 'none';
            
            showSection('loginSection');
        }

        // Show specific section
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            showSection('loginSection');
        });
    </script>
</body>
</html>
